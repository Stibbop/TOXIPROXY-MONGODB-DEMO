import Toxiproxy from "./Toxiproxy";
import Toxic, { ToxicJson } from "./Toxic";
import { ICreateProxyResponse, IGetProxyResponse, IUpdateProxyBody, ICreateToxicBody } from "./interfaces";
import { AxiosInstance } from "axios";
export interface ProxyJson {
    name: string;
    listen: string;
    upstream: string;
    enabled: boolean;
    toxics: ToxicJson<any>[];
}
export default class Proxy {
    readonly toxiproxy: Toxiproxy;
    readonly api: AxiosInstance;
    readonly name: string;
    readonly listen: string;
    readonly upstream: string;
    readonly enabled: boolean;
    constructor(toxiproxy: Toxiproxy, body: ICreateProxyResponse | IGetProxyResponse);
    getToxiproxy(): Toxiproxy;
    toJson(): ProxyJson;
    getHost(): string;
    getPath(): string;
    /**
     * Deletes the proxy from the server.
     */
    remove(): Promise<void>;
    /**
     * Updates the existing proxy on the server (e.g. disable an enabled proxy).
     *
     * @returns updated proxy
     */
    update(body: IUpdateProxyBody): Promise<Proxy>;
    /**
     * Adds a new toxic to the proxy.
     *
     * @param body toxic attributes
     * @returns toxic
     */
    addToxic<T>(body: ICreateToxicBody<T>): Promise<Toxic<T>>;
    /**
     * Gets the toxic from the proxy.
     *
     * @param name toxic name
     * @returns toxic
     */
    getToxic<T>(name: string): Promise<Toxic<T>>;
}
